<%= content_for(:title, "#{@series.race.name} - laukausten syöttö") %>
<h1><%= yield :title %></h1>
<%= form_tag('/official/shots/change_series', :method => :get) do %>
  <%= select_tag :series_id, options_from_collection_for_select(@series.race.series,
    :id, :name, params[:series_id]) %>
  <%= submit_tag "Näytä kilpailijat" %>
<% end %>
<hr/>
<div id="update_error"></div>
<div class="notice">Syötä joko yhteistulos tai vain yksittäiset laukaukset.</div>
<table>
  <tr>
    <th>Kilpailija</th>
    <th>Ammunta yhteensä</th>
    <th>Yksittäiset laukaukset</th>
    <th>&nbsp;</th>
    <th>&nbsp;</th>
  </tr>
  <% @series.competitors.each do |c| %>
    <%= form_for([:official, @series, c], :remote => true) do |f| %>
      <tr>
        <td><%= c.number %> <%= full_name(c) %></td>
        <td align="center"><%= f.text_field :shots_total_input, :size => 3, :maxlength => 3 %></td>
        <td><%= render :partial => 'official/shots/individual_shots', :locals => { :f => f,
            :competitor => c } %></td>
        <td><%= submit_tag "Tallenna" %></td>
        <td id="status_<%= c.id %>">&nbsp;</td>
      </tr>
    <% end %>
  <% end %>
</table>
<hr/>
<%= link_to "Takaisin toimitsijan etusivulle", official_root_path %>